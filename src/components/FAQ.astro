---
import { t, type Lang } from '../i18n/translations';

interface Props {
  lang: Lang;
}

const { lang } = Astro.props;

const faqs: Record<string, { question: string; answer: string }[]> = {
  es: [
    {
      question: '¿Cuánto cuesta desarrollar una aplicación web o móvil?',
      answer: 'El coste depende del tipo de proyecto, complejidad y funcionalidades. Nuestros proyectos parten desde 500€ para webs básicas hasta 20.000€+ para aplicaciones complejas con IA. Usa nuestro estimador de presupuesto para obtener un rango orientativo en 1 minuto.',
    },
    {
      question: '¿Cuánto tiempo se tarda en desarrollar un MVP?',
      answer: 'Desarrollamos MVPs (Producto Mínimo Viable) desde 3 semanas. El tiempo exacto depende de la complejidad, pero nuestro enfoque ágil permite lanzar rápido, validar con usuarios reales e iterar.',
    },
    {
      question: '¿Por qué solo trabajáis con 3 clientes a la vez?',
      answer: 'Limitar a 3 clientes simultáneos nos permite dedicar atención exclusiva a cada proyecto. Esto garantiza máxima calidad, comunicación fluida y tiempos de entrega óptimos, algo que las agencias grandes no pueden ofrecer.',
    },
    {
      question: '¿Qué tecnologías utilizáis para el desarrollo de software?',
      answer: 'Trabajamos con las tecnologías más demandadas del mercado: React, TypeScript, Node.js, Python, Java, Kotlin, AWS, Kubernetes y más. Elegimos la stack tecnológica óptima para cada proyecto según sus necesidades específicas.',
    },
    {
      question: '¿Ofrecéis servicios de inteligencia artificial para empresas?',
      answer: 'Sí, integramos soluciones de IA como chatbots, automatización de procesos, modelos de machine learning y procesamiento de lenguaje natural. Ayudamos a empresas a aprovechar la IA para crear ventajas competitivas reales.',
    },
    {
      question: '¿Trabajáis con empresas fuera de España?',
      answer: 'Sí, trabajamos con clientes en toda Europa. Nuestro equipo tiene experiencia en sectores como telecom, fintech, retail y proptech en Holanda, Alemania y España. Ofrecemos servicio en español e inglés.',
    },
  ],
  en: [
    {
      question: 'How much does it cost to develop a web or mobile application?',
      answer: 'The cost depends on the project type, complexity, and features. Our projects start from €500 for basic websites up to €20,000+ for complex applications with AI. Use our budget estimator to get an indicative range in 1 minute.',
    },
    {
      question: 'How long does it take to develop an MVP?',
      answer: 'We develop MVPs (Minimum Viable Products) from 3 weeks. The exact time depends on complexity, but our agile approach allows for quick launch, validation with real users, and iteration.',
    },
    {
      question: 'Why do you only work with 3 clients at a time?',
      answer: 'Limiting to 3 simultaneous clients allows us to dedicate exclusive attention to each project. This ensures maximum quality, fluid communication, and optimal delivery times — something large agencies cannot offer.',
    },
    {
      question: 'What technologies do you use for software development?',
      answer: 'We work with the most in-demand technologies: React, TypeScript, Node.js, Python, Java, Kotlin, AWS, Kubernetes, and more. We choose the optimal tech stack for each project based on its specific needs.',
    },
    {
      question: 'Do you offer artificial intelligence services for businesses?',
      answer: 'Yes, we integrate AI solutions such as chatbots, process automation, machine learning models, and natural language processing. We help businesses leverage AI to create real competitive advantages.',
    },
    {
      question: 'Do you work with companies outside Spain?',
      answer: 'Yes, we work with clients across Europe. Our team has experience in sectors like telecom, fintech, retail, and proptech in the Netherlands, Germany, and Spain. We offer service in both Spanish and English.',
    },
  ],
  ca: [
    {
      question: 'Quant costa desenvolupar una aplicació web o mòbil?',
      answer: 'El cost depèn del tipus de projecte, complexitat i funcionalitats. Els nostres projectes parteixen des de 500€ per a webs bàsiques fins a 20.000€+ per a aplicacions complexes amb IA. Fes servir el nostre estimador de pressupost per obtenir un rang orientatiu en 1 minut.',
    },
    {
      question: 'Quant temps es triga a desenvolupar un MVP?',
      answer: 'Desenvolupem MVPs (Producte Mínim Viable) des de 3 setmanes. El temps exacte depèn de la complexitat, però el nostre enfocament àgil permet llançar ràpid, validar amb usuaris reals i iterar.',
    },
    {
      question: 'Per què només treballeu amb 3 clients alhora?',
      answer: 'Limitar a 3 clients simultanis ens permet dedicar atenció exclusiva a cada projecte. Això garanteix màxima qualitat, comunicació fluida i temps de lliurament òptims, quelcom que les agències grans no poden oferir.',
    },
    {
      question: 'Quines tecnologies utilitzeu per al desenvolupament de software?',
      answer: 'Treballem amb les tecnologies més demandades del mercat: React, TypeScript, Node.js, Python, Java, Kotlin, AWS, Kubernetes i més. Escollim la stack tecnològica òptima per a cada projecte segons les seves necessitats específiques.',
    },
    {
      question: 'Oferiu serveis d\'intel·ligència artificial per a empreses?',
      answer: 'Sí, integrem solucions d\'IA com chatbots, automatització de processos, models de machine learning i processament de llenguatge natural. Ajudem a empreses a aprofitar la IA per crear avantatges competitius reals.',
    },
    {
      question: 'Treballeu amb empreses fora d\'Espanya?',
      answer: 'Sí, treballem amb clients a tota Europa. El nostre equip té experiència en sectors com telecom, fintech, retail i proptech a Holanda, Alemanya i Espanya. Oferim servei en espanyol, anglès i català.',
    },
  ],
  eu: [
    {
      question: 'Zenbat balio du web edo mugikorretarako aplikazio bat garatzeak?',
      answer: 'Kostua proiektu motaren, konplexutasunaren eta funtzionalitateen araberakoa da. Gure proiektuak 500€-tik hasten dira oinarrizko webentzat eta 20.000€+ AArekin aplikazio konplexuetarako. Erabili gure aurrekontu estimatzailea minutu 1ean orientazio-tartea lortzeko.',
    },
    {
      question: 'Zenbat denbora behar da MVP bat garatzeko?',
      answer: 'MVPak (Gutxieneko Produktu Bideragarria) 3 astetik garatzen ditugu. Denbora zehatza konplexutasunaren araberakoa da, baina gure ikuspegi arinarekin azkar abian jartzen da, benetako erabiltzaileekin balioztatzen da eta iteratzen da.',
    },
    {
      question: 'Zergatik lan egiten duzue 3 bezerorekin bakarrik aldi berean?',
      answer: '3 bezero aldiberekoetara mugatzeak proiektu bakoitzari arreta esklusiboa eskaintzea ahalbidetzen digu. Honek kalitate gorena, komunikazio arina eta entrega denbora optimoak bermatzen ditu, agentzia handiek eskaini ezin dutena.',
    },
    {
      question: 'Zer teknologia erabiltzen dituzue software garapenerako?',
      answer: 'Merkatuko teknologia eskakizunduenekin lan egiten dugu: React, TypeScript, Node.js, Python, Java, Kotlin, AWS, Kubernetes eta gehiago. Stack teknologiko optimoa hautatzen dugu proiektu bakoitzerako bere behar espezifikoen arabera.',
    },
    {
      question: 'Adimen artifizialeko zerbitzuak eskaintzen dituzue enpresei?',
      answer: 'Bai, AA irtenbideak integratzen ditugu, hala nola chatbot-ak, prozesu automatizazioa, machine learning modeloak eta hizkuntza naturalaren prozesamendua. Enpresei laguntzen diegu AA aprobetxatzen abantaila lehiakor errealak sortzeko.',
    },
    {
      question: 'Espainiaz kanpoko enpresekin lan egiten duzue?',
      answer: 'Bai, Europa osoko bezeroekin lan egiten dugu. Gure taldeak esperientzia du telecom, fintech, retail eta proptech sektoreetan Herbehereetan, Alemanian eta Espainian. Zerbitzua gaztelaniaz, ingelesez eta euskaraz eskaintzen dugu.',
    },
  ],
};

const currentFaqs = faqs[lang] || faqs.es;
---

<section class="section faq-section" id="faq">
  <div class="container">
    <div class="faq-header animate-on-scroll">
      <p class="section-tagline">{t(lang, 'faq.tagline')}</p>
      <h2 class="section-title">{t(lang, 'faq.title')}</h2>
    </div>

    <div class="faq-list">
      {currentFaqs.map((faq, i) => (
        <details class="faq-item animate-on-scroll" style={`animation-delay: ${i * 0.05}s`}>
          <summary class="faq-question">
            <span>{faq.question}</span>
            <svg class="faq-chevron" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"/></svg>
          </summary>
          <p class="faq-answer">{faq.answer}</p>
        </details>
      ))}
    </div>
  </div>
</section>

<!-- FAQ Schema.org JSON-LD -->
<script type="application/ld+json" set:html={JSON.stringify({
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": currentFaqs.map(faq => ({
    "@type": "Question",
    "name": faq.question,
    "acceptedAnswer": {
      "@type": "Answer",
      "text": faq.answer,
    },
  })),
})} />

<style>
  .faq-section {
    padding: var(--space-5xl) 0;
  }

  .faq-header {
    text-align: center;
    max-width: 600px;
    margin: 0 auto var(--space-3xl);
  }

  .faq-list {
    max-width: 720px;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    gap: var(--space-md);
  }

  .faq-item {
    background: var(--color-bg-card);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    overflow: hidden;
    transition: border-color var(--transition-base);
  }

  .faq-item:hover {
    border-color: var(--color-border-hover);
  }

  .faq-item[open] {
    border-color: rgba(37, 99, 235, 0.3);
  }

  .faq-question {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--space-md);
    padding: var(--space-lg) var(--space-xl);
    cursor: pointer;
    font-weight: 600;
    font-size: 1rem;
    color: var(--color-text);
    list-style: none;
    transition: color var(--transition-fast);
  }

  .faq-question::-webkit-details-marker {
    display: none;
  }

  .faq-question::marker {
    display: none;
    content: '';
  }

  .faq-question:hover {
    color: var(--color-accent-light);
  }

  .faq-chevron {
    flex-shrink: 0;
    transition: transform var(--transition-base);
    color: var(--color-text-muted);
  }

  .faq-item[open] .faq-chevron {
    transform: rotate(180deg);
    color: var(--color-accent-light);
  }

  .faq-answer {
    padding: 0 var(--space-xl) var(--space-lg);
    font-size: 0.95rem;
    color: var(--color-text-secondary);
    line-height: 1.75;
  }
</style>
